extends layout

block content
  .w3-card-4
    header.w3-container.w3-blue
      .w3-bar.w3-border-bottom
          .w3-bar-item
              h2 #[b Editar uma conta]
          a.w3-bar-item.w3-button(href="/home" style="position:relative; top:10px;")
                      .w3-cell-row
                          .w3-cell
                              i.fa.fa-home(style="color: #000000;")
                          .w3-cell(style="width:80%")
                              h6 #[b Início]
    
    .w3-container  
      form.w3-container(action=`/editUser/${user.username}` method="POST")
        fieldset 
            legend Infos:

            label Id 
                input.w3-input(type="text" name="id" value=user._id readonly)
                
            label Nome 
                input.w3-input(type="text" name="name" value=user.name required)

            label Username 
                input.w3-input(type="text" name="username" value=user.username required)

            label Password 
                input.w3-input(type="password" name="password" value=user.password required)

            label Data de Criação
                input.w3-input(type='text' name='dateCreated' value=user.dateCreated readonly)

            label Data de Último Acesso
                input.w3-input(type='text' name='lastAccess' value=user.lastAccess readonly)
        
        fieldset 
            legend Nível:
            input(type='radio' name='level' value='Produtor' checked=(user.level === 'Produtor'))
            |  Produtor
            br
            input(type='radio' name='level' value='Consumidor' checked=(user.level === 'Consumidor'))
            |  Consumidor
            if user.level === 'Administrador'
                br
                input(type='radio' name='level' value='Administrador' checked)
                |  Administrador

        input.w3-btn.w3-blue.w3-margin(type="submit" value="Editar")

        button#cancel.w3-btn.w3-round.w3-red.w3-margin
          a(href="/home") Voltar atrás

      if erro != undefined
        .w3-panel.w3-yellow
          h3 Erro
          p= erro      

    footer.w3-container.w3-blue.w3-center
        h5 André Pimentel Filipe, David da Silva Teixeira, João Manuel Novais da Silva e João Henrique Costa Ferreira | Engenharia Web 2024 - Universidade do Minho
        h5 Generado por EngWeb2024 in #{date}